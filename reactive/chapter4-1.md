# 4 리액터 프로젝트 - 리액티브 앱의 기초

## 리액터 프로젝트의 간략한 역사
- 리액티브 스트림 스펙은 API 및 규칙만 정의하고, 구현된 라이브러리가 아님(JPA 표준 같은거인듯)
- `리액터 라이브러리` 는 예술의 경지에 다다른 라이브러리 라고함

### 리액터 프로젝트 버전 1.x
- 처음부터 비동기 논블로킹 처리를 지원하도록 설계됨
- 본질적으로 리액터 패턴, 함수형 프로그래밍 및 리액티브 프로그래밍과 같은 메시지 처리에 대한 모범 사례 통합
  - 모든 이벤트가 큐에 추가되고 이벤트는 나중에 별도의 스레드에 의해 처리됨
- Streams 클래스는 현재 권장되지 않는 옛날 클래스
- 라이브러리에 배압 조절 기능이 없다(프로듀서 스레드를 차단하거나 이벤트를 생략하는것 정도)

### 리액터 프로젝트 버전 2.x
- 이벤트버스 및 스트림 기능을 별도의 모듈로 추출함
- 새로운 리액터 api는 자바 컬렉션 api와 더욱 쉽게 통합 가능
- RxJava api와 훨씬 비슷해짐
- 스트림 생성,소비에 더불어 배압 관리, 스레드 처리, 복원력 지원등을 위한 다양한 기능 추가됨
```java
stream
  .retry()                                    // 재시도 연산자를 통해 플로우에 복원력을 부여, 오류 발생시 업스트립 작업 다시 실행
  .onOverflowBuffer()                         // 푸시 모델만 지원할 때 버퍼 및 드롭을 사용해 배압 관리
  .onOverflowDrop()
  .dispatchOn(new RingBufferDispatcher("test")) // 새로운 Dispatcher를 이용해 해당 리액티브 스트림에서 동시에 작업함에 따라 메시지 비동기적 처리
```
- Reactor 객체가 EventBus 로 이름 바꿈 (리액티브 스트림 사양 지원하도록 다시 설계됨)

## 리액터 프로젝트 필수 요소
- 목적 : 비동기 파이프라인 구축 시 콜백 지옥과 깊게 중첩된 코드를 생략시키기
- 리액터 api는 연산자를 연결해서 사용하는 것을 권장
- 동시성에 좌우되지 않도록 설계됐으므로 동시성 모델을 적용하지 않음(근데 배제한게 아니라 최소화 시킨거라고 함)

## 리액티브 타입 - Flux와 Mono
- 리액터 프로젝트에는  Publisher<T>의 구현체로 `Flux<T>, Mono<T>` 가 있다
  
### Flux  
- Flux 스트림을 연산자를 통해 다른 Flux 스트림으로 변환
- 0, 1, N 개의 요소를 생성할 수 있는 일반적인 리액티브 스트림
- 무한 스트림 예시 `Flux.range(1, 5).repeat()`
  - repeat()은 앞선 스트림이 끝나면 onComplete 신호 수신 후 다시 동작 반복시킴
  
  
### Mono
- 최대 하나의 요소를 생성할 수 있는 스트림
  - 
