# 16 트랜잭션과 락, 2차 캐시
# 16.1 트랜잭션과 락
## 16.1.1 트랜잭션과 격리 수준
- 트랜잭션의 ACID
  - Atomicity(원자성) : 모두 성공 아닐거면 모두 실패
  - Consistency(일관성) : 일관성 있는 데이터베이스 상태 유지
  - Isolation(격리성) : 동시에 실행되는 트랜잭션들이 서로에게 영향을 미치면 안됨
  - Durability(지속성) : 트랜잭션을 성공적으로 끝내면 그 결과가 항상 기록되어야 함
- 이 중 격리성을 지키려면 동시성 처리 성능이 매우 나빠져서 ANSI 표준은 트랜잭션 격리 수준을 4단계로 나눔
- 격리 수준 단계
  - READ UNCOMMITED : 커밋하지 않은 데이터를 읽을 수도 있다 -> DIRTY READ 발생 가능
  - READ COMMITTED : 커밋한 데이터만 읽을수 있지만, 반복된 읽기가 안될수도 있다
  - REPEATABLE READ : PHANTOM READ 발생 가능 -> 다중 조회시 조회결과 COUNT가 다를 수 있다
  - SERIALIZABLE : 문제점 안발생, 하지만 느려터짐
- 격리 수준에 따른 문제점
  - DIRTY READ
  - NON-REPEATABLE READ
  - PHANTOM READ 
- 보통 READ COMMITTED 격리 수준을 기본으로 사용한다
- 또한, 최근 데이터베이스들이 더많은 도잇성 처리를 위해 락보다는 MVCC를 사용한다고 한다

## 16.1.2 낙관적 락과 비관적 락 기초
