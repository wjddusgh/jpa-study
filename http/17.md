# 17. 내용 협상과 트랜스코딩
## 17.1 내용 협상 기법
- 서버에 있는 페이지들 중 어떤 것이 클라이언트에게 맞는지 판단하는 세가지 방법 존재
  - 클라이언트 주도 협상
  - 서버 주도 협상
  - 투명한 협상 

## 17.2 클라이언트 주도 협상
- 서버입장에서 가장 쉬움
- 각 페이지에 두번의 요청이 필요함
  - 처음 : 목록을 얻음
  - 두번째 : 선택한 사본을 얻음
  - 느리고 지루한 과정, 클라는 짜증남
- 선택지 목록을 보내는 두 방법
  - 여러 버전에 대한 링크와 설명이 담긴 HTML 페이지
  - 300 Multiple Choices 응답 코드로 HTTP/1.1 응답 돌려줌
- 선택지 목록 만큼의 여러 URL을 요구함

## 17.3 서버 주도 협상
- 클라이언트의 요청 헤더에 무엇을 선호하는지 정보를 주어서 서버가 결정
- http 서버가 적절한 응답을 계산하기위해 사용하는 메커니즘 2가지
  - 내용 협상 헤더들(Accept 관련 헤더 등)을 살펴보고 적절한 응답 헤더 준비
  - 내용 협상 헤더 외에 User-Agent 헤더등을 살펴보고 응답 헤더 준비
### 내용 협상 헤더
- Accept : 어떤 미디어 타입으로 보내도 되는지 / 엔티티 헤더의 Content-Type 과 짝을 이룸
- Accept-Language : 어떤 언어로 보내도 되는지 / Content-Language
- Accept-Charset / Content-Type
- Accept-Encoding / Content-Encoding
- http 는 stateless 니까 매 요청마다 선호 정보 반드시 보내야함
- 클라이언트의 선호 정보에는 품질값(quality value) 넣어서 우선순위 넣을 수 있음(0.0 ~ 1.0)

### 아파치의 내용 협상
