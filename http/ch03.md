# HTTP 메시지
## 3.1 메시지의 흐름
- HTTP 메시지 : 애플리케이션간 주고받은 데이터의 블록들
- 인바운드, 아웃바운드, 업스트림, 다운스트림 은 메시지의 방향을 의미하는 용어
- 인바운드 : 서버 방향
- 아웃바운드 : 클라이언트 방향
- 다운스트림 : 메시지의 흐름
- 업스트림 : 흐를 때의 송신자
## 3.2 메시지의 각 부분
- HTTP 메시지는 시작술, 헤더블록, 본문 으로 구성됨
- 시작줄, 헤더는 줄 단위로 분리된 아스키 문자열
- 줄바꿈 문자열은 `CRLF` 라고 함
  - 견고한 애플리케이션이라면 개행문자도 받아들일수 있어야 한다고 함
- 본문은 그냥 데이터 덩어리(텍스트, 이진데이터 뭐든 다 됨, 비어있어도 됨)  
- 요청 메시지 시작줄: `<메서드> <요청 URL> <버전>`
- 응답 메시지 시작줄: `<버전> <상태 코드> <사유 구절>`
- 상태 코드

|전체 범위|정의된 범위|분류|
|------|---|---|
|100-199|100-101|정보|
|200-299|200-206|성공|
|300-399|300-305|리다이렉션|
|400-499|400-415|클라이언트 에러|
|500-599|500-505|서버 에러|

- 사유 구절은 상태 코드와 일대일 대응
- 버전 번호는 요청, 응답에 `HTTP/x.y` 형태로 기술됨

### 3.2.3 헤더
- 일반 헤더 : 요청, 응답 양쪽에 모두 나타날 수 있음
- 요청 헤더, 응답 헤더 : 각각의 부가 정보를 제공
- 엔티티 헤더 : 본문 크기와 콘텐츠, 혹은 리소스 그 자체를 서술
- 확장 헤더 : 명세에 정의되지 않은 새로운 헤더

### 3.2.5 버전 0.9 메시지
- 이건 헤더가 없어서 뭐 정보도 없고, 응답에 엔티티만 있음
- 혹시 모르니 참고 바람

## 3.3 메서드
- 모든 서버가 모든 메서드를 구현하지는 않는다는 것에 주의해야함
### 3.3.1 안전한 메서드
- 정보를 조회하는, 즉 리소스나 서버의 상태가 변하지 않는 메서드
- GET, HEADER, OPTIONS, TRACE 등이 해당된다고 함
### 3.3.9 확장 메서드
- HTTP 는 필요에 따라 확장해도 문제가 없도록 설계되어 있음
- HTTP/1.1 명세에 정의되지 않은 메서드는 확장 메서드 이다
- 컨벤션으로 LOCK, MKCOL, COPY, MOVE 등이 쓰이는 듯

## 3.4 상태 코드
- [상태코드표](https://hongong.hanbit.co.kr/http-%EC%83%81%ED%83%9C-%EC%BD%94%EB%93%9C-%ED%91%9C-1xx-5xx-%EC%A0%84%EC%B2%B4-%EC%9A%94%EC%95%BD-%EC%A0%95%EB%A6%AC/)
### 3.4.1 100-199: 정보성 상태 코드
- 100 번 코드가 불편한게 많은 코드 같다
- 클라이언트가 Expect: 100 보내서 엔티티 보내려 하면, 서버가 100 응답을 주는 시스템 같은데 요즘은 잘 안쓰인다고함
- 괜히 이거때매 의도치않게 클라이언트에 그냥 100 이 간다던가 하면 문제가 생기고, 처리할 과정만 늘어나므로 신중해야 하는듯

### 3.4.2 300-399: 리다이렉션 상태 코드
- 304: Not Modified
  - 브라우저 캐시, CDN 캐시에서 쓰임
- 302: HTTP/1.0 에서는 의도와 다르게 요청방법을 유지하지 않고 GET 으로 바꿔 리다이렉트함
- 303: HTTP/1.1 에서 기존 302의 결과와 맞게 GET 으로 바꾸게끔 한 상태 코드
- 307: HTTP/1.1 에서 기존 302의 의도와 맞게 요청 방법을 유지하게끔 한 상태 코드

## 3.5 헤더
