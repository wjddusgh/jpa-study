# 10. HTTP/2.0

## 10.1 HTTP/2.0의 등장 배경
- HTTP/1.1의 메시지 포멧은 구현의 단순성, 접근성을 두고 최적화됨
- 그래서 성능이 어느정도 희생됨
  - 요청당 커넥션, 응답도 하나만 받음 -> 단순하지만, 심각한 회전 지연 만남
  - 병렬 커넥션, 파이프라인 커넥션 도입됐지만 근본적 해결책은 아님
- SPDY : 구글이 개발, 하나의 TCP 커넥션에 여러 요청을 동시에 보내 회전 지연 줄임, 서버가 능동적 리소스 푸시 기능
  - 이를 기반으로 HTTP/2.0 만들기 시작

## 10.2 개요
- HTTP/2.0 요청, 응답은 길이가 정의된(최대 16383바이트) 한 개 이상의 프레임에 담긴다. 헤더는 압축되어 담긴다
- 프레임에 담긴 요청, 응답은 스트림을 통해 보내진다
- 하나에 커넥션엔 여러 스트림이 만들어 질 수 있으므로, 여러 요청, 응답을 동시에 처리 가능하다
- 이들 스트림에 대한 흐름제어, 우선순위 부여 기능 제공
- 2.0부터는 기존 요청-응답과는 살짝 다른 서버 푸시를 도입함
  - 서버는 클라이언트에게 필요하다고 생각하는 리소스라면 요청 없이도 능동적으로 푸시 가능하다
- 기존 버전과의 호환을 위해 요청, 응답 메시지 의미는 1.1과 동일함

## 10.3 HTTP/1.1과의 차이점

### 프레임
- 모든 메시지는 프레임에 담겨 전송된다
- 필드
  - R : 예약된 2비트 ㅍ리드, 값 의미 없고 반드시 0이어야함. 받는쪽에선 이 값 무시
  - 길이 : 페이로드의 길이는 나타내느 14비트 unsigned integer. 헤더는 제외
  - 종류 : 프레임 종류
  - 플래그 : 8비트 플래그
  - R : 예약된 1비트 필드. 반드시 0
  - 스트림 식별자 : 31비트 스트림 식별자, 0은 커넥션 전체와 연관된 프레임임을 의미함
