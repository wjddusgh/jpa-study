# 1. HTTP 개관
## 1.1 HTTP: 인터넷의 멀티미디어 배달부
### 인터넷에 떠돌아 다니는 것들
- 이미지
- HTML 페이지
- 텍스트
- 동영상
- 음성
- 자바 애플릿
등등이 수십억 개 이상 인터넷 항해중
### HTTP
- 신뢰성 있는 데이터 전송 프로토콜 사용 -> 사용자는 걱정을 안해도 된다

## 1.2 웹 클라이언트와 서버
- 웹 콘텐츠는 웹 서버에 존재함
- WWW 의 기본 요소: http 클라이언트, http 서버
  - 클라이언트가 http request -> 서버가 http response
 
## 1.3 리소스
- **웹 콘텐츠의 원천**
- 정적 파일: 모든 종류의 파일
- 리소스는 정적 파일 뿐 아니라 다양한 게이트웨이도 될 수 있다

### 1.3.1 미디어 타입
- MIME(Multipuopose Internet Mail Extensions): 라벨을 붙이는 용도, 원래 전자메일 시스템 해결을 위해 설계됐으나 http 에도 라벨을 붙이기 위해 채택됨
- MIME 예시 (수백가지 존재)
  - text/javascript
  - image/jpeg
  - video/webm
  - application/json

### 1.3.2 URI
- uri: 서버 리소스 이름
- uri 는 url + urn

### 1.3.3 URL
- 통합 자원 지시자
- 구성 요소
  - 스킴 : 리소스 접근에 사용되는 프로토콜, 보통 http://
  - 서버의 인터넷 주소
  - 웹 서버의 리소스
- 오늘날 대부분의 uri 는 url임

### 1.3.4 URN
- 유니폼 리소스 이름
- 콘텐츠를 이루는 한 리소스가 위치에 영향을 받지 않는 유일무이한 역할
- 하지만 널리 채택되지 않아 브라우저에서는 접근 못함

## 1.4 트랜잭션
- http 트랜잭션은 요청, 응답 메시지 로 구성되어 있다

### 1.4.1 메서드
- 모든 http 요청 메시지는 한개의 메서드를 갖는다
  - GET, POST, PUT, DELETE, HEAD(헤더만 보내라)

### 1.4.2 상태 코드
- 클라이언트에게 요청이 성공했는지 혹은 조치가 필요한지 알려주는 세자리 숫자
  - 200, 404, 501 등
- 상태 코드엔 사유 구절(reason phrase) 도 함께 보낸다(응답 처리는 숫자 코드로만 함)

### 1.4.3 웹페이지는 여러 객체로 이루어질 수 있다
- 하나의 페이지에서 여러 http 트랜잭션을 수행 가능
- 즉, **웹페이지** 는 여러 리소스의 모음

## 1.5 메시지
- http 메시지는 단순한 줄 단위의 문자열로, 일반 텍스트기에 사람이 일고 쓰기 쉽다
![images_gparkkii_post_0a8a066b-b53b-4c86-a522-32e848c5f54f_HTTP_Request](https://github.com/wjddusgh/jpa-study/assets/69251780/a8f9cc3c-c08a-418f-bc05-e2b64bed1a37)
![images_gparkkii_post_c5ee6879-e3af-49f9-a8d0-5922b49c53ce_HTTP_Response](https://github.com/wjddusgh/jpa-study/assets/69251780/7a151afe-5419-4e81-a312-8f360148b9c5)

- 구조
  - 시작줄 : 무엇을 해야하는지, 무슨 일이 일어났는지
  - 헤더 : ":" 기준으로 이름, 값 구성
  - 본문 : 임의의 이진 데이터(이미지, 영상 등)를 비롯한 텍스트 포함 가능   

## 1.6 TCP 커넥션
### 1.6.1 TCP/IP
- http 는 애플리케이션 계층 프로토콜이라 네트워크 통신의 세부사항은 tcp/ip에게 위임
- tcp가 제공하는 것
  - 오류제어
  - 순서제어
  - 흐름제어  
### 1.6.2 접속, ip주소 그리고 포트번호
- URL 이 많은 정보를 가지고 있음
  - 호스트 이름으로 ip, port 번호 알아냄, 기본 포트번호는 80
## 1.7 프로토콜 버전

### HTTP/0.9
- 심각한 디자인 결함이 다수 있음
- GET 메서드만 지원
- 멀티미디어 컨텐츠에 대한 MIME, 헤더, 버전 번호 지원 안함
- 금방 1.0으로 대체됨
### HTTP/1.0
- 처음으로 널리 쓰이기 시작한 버전
- 버전 번호, 헤더, 추가 메서드, 멀티미디어 객체 처리 기능 추가
- 잘 정의된 명세 라기보단 잘 동작하는 용례에 가깝다고 함
### HTTP/1.0+
- 기존 버전에서 당장 필요한 요구조건 만족을 위한 기능이 추가된 것
- 연결이 지속되는 **keep alive** 커넥션
- 가상 호스팅 지원
- 프록시 연결 지원
- 공식적인 기능 추가는 아님
### HTTP/1.1
- HTTP 설계의 구조적 결함 교정
- 두드러진 성능 최적화
- 잘못된 기능 제거
- 책기준 현재의 HTTP 버전, 지금은 검색시 1.1, 2.0 둘다 널리 쓰이고, 2.0이 계속 늘어나는 중 
### HTTP/2.0
- 구글의 SPDY 프로토콜 기반으로 설계된 HTTP
- SPDY 프로토콜
  - 웹 트래픽을 압축하고 최적화하여 웹 페이지 로드 시간을 줄이는 데 목적
  - 다중 요청,응답 을 처리 가능
  - 요청 우선 순위 지정 가능
  - 헤더 압축 

## 1.8 웹의 구성요소
- 프록시
- 캐시
- 게이트웨이
- 터널
- 에이전트

### 1.8.1 프록시
- 클라, 서버 사이의 HTTP 중개자
- 클라이언트와 서버 사이에서 트래픽을 전달
- 주로 보안을 위해 사용됨
- 요청, 응답 필터링

### 1.8.2 캐시
- 클라이언트 가까이에 있는 HTTP 창고(브라우저 캐시 말하나봄)

### 1.8.3 게이트웨이
- 다른 애플리케이션과 연결된 웹서버
- 주로 HTTP 트래픽을 다른 프로토콜로 변환하기 위해 사용됨
- 서버인척 해서 클라이언트는 게이트웨이와 통신하고 있음을 알아채지 못함

### 1.8.4 터널
- 단순히 HTTP 통신 전달만 하는 프록시
- raw 데이터를 열어보지 않음
- 주로 비 HTTP 데이터를 하나 이상의 HTTP 연결을 통해 그대로 전송해주기 위해 사용됨
- 방화벽, VPN 등에 사용

### 1.8.5 에이전트
- 자동화된 HTTP 요청을 만드는 준지능적 웹 클라이언트
- 웹 요청을 만드는 모든 애플리케이션은 HTTP 에이전트로 볼 수 있다
